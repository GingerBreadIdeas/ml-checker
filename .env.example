# ============================================
# Database Configuration
# ============================================
# Used by: postgres, migrate (both compose files)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ml-checker

# Used by: backend, migrate (both compose files)
DATABASE_URL=postgresql://postgres:postgres@postgres/ml-checker

# Used by: prompt-save (docker-compose.yml only)
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=ml-checker

# ============================================
# Backend Configuration
# ============================================
# Used by: backend (both compose files)
SECRET_KEY=production_secret_key_change_this

# ============================================
# Service Configuration
# ============================================
# Docker container ports
FRONTEND_PORT=5173
BACKEND_PORT=8000

# Uvicorn proxy configuration
# UVICORN_PROXY_HEADERS: Enable proxy header support (true/false)
# UVICORN_FORWARDED_ALLOW_IPS: Comma-separated IPs that can set forwarded headers
#   - Development: '*' (trust all)
#   - Production: Set to your reverse proxy IP (e.g., '172.18.0.1' for nginx)
UVICORN_PROXY_HEADERS=true
UVICORN_FORWARDED_ALLOW_IPS='*'

# Service hosts (used for external access and CORS)
# Examples:
#   - Local: localhost:5173 / localhost:8000
#   - Production: app.domainname.com / api.domainname.com
FRONTEND_HOST=localhost:5173

# Frontend environment variables (passed to Vite at build time)
# VITE_BACKEND_HOST should include protocol and domain
# Examples:
#   - Local: http://localhost:8000
#   - Production: https://api.domainname.com
VITE_BACKEND_HOST=http://localhost:8000
VITE_API_PATH=/api/v1

# ============================================
# Processing Service Configuration
# ============================================
# Used by: prompt-save (docker-compose.yml only)
MLCHECKER_ENV_TYPE=docker

# ============================================
# Batch Processing Configuration (Runner)
# ============================================
# Configure message metrics batch processing for improved efficiency
# Used by: runner service

# Maximum number of messages to batch together (default: 10)
# Higher values = better throughput but slightly higher latency
METRICS_BATCH_SIZE=10

# Maximum seconds to wait before processing incomplete batch (default: 5.0)
# Lower values = lower latency but potentially less efficient batching
METRICS_BATCH_TIMEOUT=5.0

